import { useState } from 'react'
import Footer from './Footer'

function ProfessionalInfo() {
  const [expandedItems, setExpandedItems] = useState<{ [key: string]: boolean }>({})

  const pelvicFloorFAQs = [
    {
      id: 'pelvic-1',
      question: 'מה עושים בטיפול רצפת אגן?',
      answer: 'מתחילים בראיון מעמיק להכיר אותך ולהבין מה בדיוק מפריע ואילו גורמים יכולים להיות לבעיה.\n\nממשיכים בבדיקה חיצונית ליציבה, שרירי בטן,אגן וירכיים. הסתכלות על תבנית הנשימה ולבסוף בדיקה פנימית וגינלית (ללא מכשור) בכדי להבין את התפקוד של רצפת האגן שנמצאת סביב הסוגרים (לא תמיד מתבצע בטיפול הראשון).\n\nמכאן, על פי הממצאים מהבדיקה נתחיל טיפול מנואלי חיצוני ו/או פנימי עם המוןןןן הדרכה וניפוץ מיתוסים. שימוש בעזרים בקליניקה לפי צורך (כגון ביופידבק, מנשפית, שימוש ברטט להורדת כאב, מאמני נרתיק, התאמת פסרי וכד׳).\n\nלבסוף אתאים לך תוכנית טיפול שמאוד משתנה מאישה לאישה וכוללת המון מידע ושינוי הרגלים מזיקים, ומעט תרגול לבית.'
    },
    {
      id: 'pelvic-2',
      question: 'כמה זמן נמשך הטיפול?',
      answer: 'טיפול ראשון נמשך כשעה עד שעה ורבע. טיפולים חוזרים כ-50 דק. שוב, הכל תלוי צורך.'
    },
    {
      id: 'pelvic-3',
      question: 'האם הטיפול כואב?',
      answer: 'טיפולי רצפת אגן לרוב אינם כרוכים בכאב. אבל, כשמדובר בטיפול לכאבים ביחסים אני מנסה דרך טכניקות שונות להגיע לאזורי הכאב עם מינימום יצירת הכאב בתהליך. מתחילה מגישה רחוקה לשרירים הסובבים, ולעיתים לא מתחילה בטיפול פנימי בטיפולים הראשונים כלל, עד שהאישה מוכנה לכך. שימוש רב בנשימה ובטכניקות מתקדמות לטיפול בבעיה.'
    },
    {
      id: 'pelvic-4',
      question: 'מהו בדיוק הטיפול בביופידבק?',
      answer: 'מכשיר הביופידבק מעביר מידע מאלקטרודה המעבירה נתונים מהשרירים שלנו אל מסך דרכו ניתן לראות כיצד את מפעילה את שרירי רצפת האגן: להעריך את איכות הכיווץ וההרפיה של השרירים ואת הסבולת שלהם. בעזרת המכשיר ניתן ללמוד להפעיל נכון יותר את שרירי רצפת האגן, ובנוסף ניתן לשדר זרם קל שיעזור לגייס עבודה שרירית רחבה יותר באיזור וכן לטפל בשלפוחית רגיזה. הטיפול אינו מכאיב.'
    },
    {
      id: 'pelvic-5',
      question: 'האם צריך הפניה לטיפול פיזיותרפיה רצפת אגן?',
      answer: 'אין צורך בהפניה למעט לטיפולים בזמן הריון, יש לבקש הפניה מרופא הנשים לטפולי רצפת אגן מנואלים.'
    },
    {
      id: 'pelvic-6',
      question: 'ניפוץ מיתוסים',
      answer: '<span style="color: #6B46C1; font-weight: bold;">פיזיותרפיה לרצפת האגן מיועדת לנשים בלבד</span>\nלא נכון! הטיפול מיועד גם לגברים וילדים ובכל הגילאים.\n\n<span style="color: #6B46C1; font-weight: bold;">בטיפול לומדים איך לחזק ולכווץ</span>\nנכון חלקית. זהו חלק מינורי בטיפול הכולל טכניקות ידניות, מתיחות, נשימות, ביופידבק, ניהול עומסים, שינוי התנהגות, ומותאם באופן אישי לכל אחת.\n\n<span style="color: #6B46C1; font-weight: bold;">אסור להתאפק לפיפי</span>\nהתרוקנות נורמלית מתרחשת כל 2-4 שעות. מותר להתאפק כ30-60 דק. מעבר לזה לא רצוי.\n\n<span style="color: #6B46C1; font-weight: bold;">אסור לבצע כפיפות בטן בהפרדות בטנית</span>\nלא נמצא תרגול מסויים שמחמיר הפרדות או מצמצם אותה. כדאי לקבל הדרכה ספציפית.\n\n<span style="color: #6B46C1; font-weight: bold;">כאבים ביחסים זה נורמלי</span>\nממש לא! זה קורה ל20-40% מהנשים בכל הגילאים וזה ממש בר טיפול ולא צריך להיות כך.'
    },
    {
      id: 'pelvic-7',
      question: 'טיפים ותרגילים לבית לסובלות מדליפות שתן',
      answer: '1. השתדלו לא לעלות על 2 כוסות של קפאין ביום (קפה או תה עם קפאין). שתו מים בכמות מספקת במשך היום, 1.5-2 ליטר,והפסיקו לשתות כלל כשעתיים לפני השינה. דבר שיעזור להפחית הליכה מרובה לשירותים בלילה.\n\n2. הקפידו לנשום מהאף במשך היום והלילה. והשתמשו בשריר סרעפת ולא שרירי הצוואר (הסתכלות על תנועת הבטן בנשימה עוזרת, הבטן אמורה לצאת ולחזור למקומה ברכות בזמן הנשימה הרגועה)\n\n3. יש לנשוף בעדינות מהפה בזמן ביצוע מאמצים כגון- הרמת משאות, התכופפות, הליכה מהירה/ריצה, ספורט וכד׳.רצוי עם כיווץ מקדים של רצפת האגן (רק במידה ואת בטוחה שמבצעת את הפעולה בצורה נכונה)\n\n4. קשיי התרוקנות עלולים להעיד על בעיה בתפקוד רצפת האגן לכן יש לטפל גם בנושא זה על מנת להגיע לתפקוד תקין שלא ישפיע על מערכת השתן.\n\n5. בזמן צאייה הגביהי רגליים על שרפרף ונסי לנשום לבטן ולא לדחוף את הצואה החוצה. יש ללכת תמיד בתחושת הצורך הראשוני לצואה ולא להתאפק.\n\n6. הדבר הפוך לגבי מערכת השתן, השלפוחית שלנו יכולה לאגור שתן בין 2.5-4 שעות ללא צורך בהתרוקנות וללא ״סבל״ בהתאפקות.'
    }
  ]

  const vestibularFAQs = [
    {
      id: 'vestibular-1',
      question: 'מה זה ורטיגו?',
      answer: 'שם כולל לסחרחורת=תחושת אשליה של תנועה.\nיכול לנבוע ממקור מרכזי (מוח) פריפרי (אוזן פנימית) או סיבות נוספות.\n\nסחרחורת התקפית תנוחתית טבה BPPV היא השכיחה בסחרחורות הסיבוביות-כ-20%-40% מהאוכלוסיה.\nזהו מצב שבו יש נדידה של אבניני האוזן (״קריסטלים״)ממקומם המקורי בתוך המערכת הוסטיבולרית לתעלות חצי מעגליות,3 בכל אוזן, אשר יוצר תחושת סחרור בשינוי מנח הראש כנגד כח הכובד.\nמצב זה אינו מסוכן, לרוב מלווה בבחילות/הקאות, ודורש בדיקה וטיפול של פיזיותרפיסט וסטיבולרי.\n\nלרוב נדרש טיפול אחד אך לעיתים יש לקבוע פגישות בודדות נוספות.\n\nטיפול תרופתי אינו מטפל בבעיה אך מפחית את עוצמת הסימפטומים.'
    },
    {
      id: 'vestibular-2',
      question: 'מה עושים בטיפול פיזיותרפי לורטיגו?',
      answer: 'מתחילים בתשאול מעמיק כדי להבין את המהלך הקליני של הסחרחורת, סימפטומים נלווים, שימוש בתרופות, רקע רפואי וכד׳.\n\nממשיכים בבדיקה קלינית בישיבה דרך העיניים לשלילת מקורות מרכזיים לסחרור ולסימפטומים.\n\nלאחר מכן, אם הכל תקין, ממשיכים לבדיקת המערכת הוסטיבולרית באוזניים ע״י שינויי מנח הראש ביחס לכוח הכובד במטרה לעורר את הסחרחורת המדוברת ומיד לעבור לטיפול.\n\nהטיפול משלב מספר תנועות ראש מדויקות עם זמני המתנה בכל תנוחה, במטרה להחזיר את ה״קריסטלים״ למקומם הנכון, לרוב אין צורך במפגש נוסף. לאחר שיחת טלפון בימים שאחרי הטיפול יוחלט אם יש צורך לעוד טיפול או הדרכה.\n\nזכרו - הטיפול אמור להחזיר אתכם להיות 100% ולא ליד. חשוב שתחזרו לפעילות מלאה ללא הגבלה. באם יש סימפטומים שלא עברו יש לדווח ולהגיע לטיפול.'
    },
    {
      id: 'vestibular-3',
      question: 'האם הטיפול תמיד מצליח?',
      answer: 'ב-90% מהמקרים של סחרחורת סיבובית bppv - כן, טיפול אחד יכול לפתור את הבעיה. אך לא למנוע הישנות הבעיה. ל-50% מהאנשים החווים סחרחורת סיבובית ראשונה יש סיכוי שהיא תחזור ולא ניתן לנבא איפה ומתי זה יקרה שוב. כיום רק יודעים כיצד לטפל.\n\nבשיקום וסטיבולרי על רקע תת פעילות המערכת הוסטיבולרית השיקום ארוך יותר ויכול לקחת עד 8 שבועות או יותר, ותלוי בגורמים שונים.'
    },
    {
      id: 'vestibular-4',
      question: 'מהם משקפי פרנזל וכיצד עוזרים לטיפול?',
      answer: 'בזמן אבחון ורטיגו, תנועות העיניים מהוות מרכיב עיקרי באבחון הבעיה. משקפי הפרנזל מכילות עדשות מיוחדות המאפשרות למטפל לראות את תנועות העיניים של המטופל בצורה ברורה יותר, על ידי הגדלת העיניים דרך העדשה ומניעת פיקסציה של המטופל. מה שמאפשר אבחון מדויק יותר של פתולוגיות וסטיבולריות.'
    },
    {
      id: 'vestibular-5',
      question: 'האם יש תרגילים שניתן לעשות בבית?',
      answer: 'לא קיימים תרגילים גנריים שמתאימים לכולם. התרגול בשיקום וסטיבולרי חייב להיות מותאם למטופל בהתאם לממצאים מהבדיקה.'
    },
    {
      id: 'vestibular-6',
      question: 'דף מידע על תת פעילות המערכת הוסטיבולרית',
      answer: 'redirect:./assets/vastibular-rehab.pdf'
    }
  ]

  const toggleExpanded = (id: string) => {
    setExpandedItems(prev => ({
      ...prev,
      [id]: !prev[id]
    }))
  }

  const renderFAQItem = (faq: { id: string; question: string; answer: string }) => {
    const isRedirect = faq.answer.startsWith('redirect:')
    const redirectUrl = isRedirect ? faq.answer.substring(9) : null
    
    const handleClick = () => {
      if (isRedirect && redirectUrl) {
        window.open(redirectUrl, '_blank', 'noopener,noreferrer')
      } else {
        toggleExpanded(faq.id)
      }
    }
    
    return (
      <div key={faq.id} className={`faq-item ${expandedItems[faq.id] ? 'expanded' : ''}`} style={{ marginBottom: '2px' }}>
        <div 
          className="faq-question" 
          onClick={handleClick}
        >
          <span>{faq.question}</span>
          {!isRedirect && (
            <span style={{ display: 'flex', alignItems: 'center', marginRight: '8px' }}>
              {expandedItems[faq.id] ? (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M15.41 16.59L12 13.17l-3.41 3.42L7 15l5-5 5 5-1.59 1.59z"/>
                </svg>
              ) : (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                </svg>
              )}
            </span>
          )}
        </div>
        {!isRedirect && expandedItems[faq.id] && (
          <div 
            className="faq-answer" 
            dangerouslySetInnerHTML={{ __html: faq.answer }}
          />
        )}
      </div>
    )
  }

  return (
    <>
      {/* Spacer to push content below navbar */}
      <div style={{ height: '50px' }}></div>
      
      {/* Professional Information Section */}
      <section id="professional-info" className="professional-info">
        <h2>מידע מקצועי</h2>
        
        <div className="faq-section" id="pelvic-floor">
          <h3>בתחום רצפת האגן:</h3>
          <div className="faq-list">
            {pelvicFloorFAQs.map(renderFAQItem)}
          </div>
        </div>

        <div className="faq-section" id="vestibular">
          <h3>בתחום הוסטיבולרי:</h3>
          <div className="faq-list">
            {vestibularFAQs.map(renderFAQItem)}
          </div>
        </div>
      </section>

      {/* Footer */}
      <Footer />
    </>
  )
}

export default ProfessionalInfo 